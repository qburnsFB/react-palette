import e from"node-vibrant";import t from"lodash.camelcase";import r from"lodash.invoke";import n,{useEffect as a,useReducer as o}from"react";var i=function(n){try{return Promise.resolve((a=n,void 0===o&&(o=""),new Promise(function(e,t){var r=new Image;r.addEventListener("load",function(){e(r)}),r.addEventListener("error",function(){t(new Error("Failed to load image's URL: "+a))}),r.crossOrigin=o,r.src=a}))).then(function(n){return Promise.resolve(e.from(n).getPalette()).then(function(e){return Object.keys(e).reduce(function(n,a){var o;return Object.assign({},n,((o={})[t(a)]=r(e,[a,"getHex"]),o))},{})})})}catch(e){return Promise.reject(e)}var a,o},c={loading:!0,data:{},error:void 0};function l(e,t){switch(t.type){case"getPalette":return c;case"resolvePalette":return Object.assign({},e,{data:t.payload,loading:!1});case"rejectPalette":return Object.assign({},e,{error:t.payload,loading:!1})}}function s(e,t){void 0===t&&(t={});var r=o(l,c),n=r[0],s=r[1];return a(function(){s({type:"getPalette"}),t.vibrant?s({type:"resolvePalette",payload:t}):i(e).then(function(e){s({type:"resolvePalette",payload:e})}).catch(function(e){s({type:"rejectPalette",payload:e})})},[e]),n}var d=function(e){var t=e.children,r=s(e.src);return n.createElement(n.Fragment,null,t(r))};export default d;export{i as getPalette,d as Palette,s as usePalette};
//# sourceMappingURL=react-palette.mjs.map
